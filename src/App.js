import React, { useState, useEffect } from 'react';
import { Container, AppBar, Typography, Grow, Grid } from '@material-ui/core';
import { useDispatch } from 'react-redux';

import Posts from './components/Posts/Posts';
import Form from './components/Form/Form';
import { getPosts } from './actions/posts';
import useStyles from './styles';


const App = () => {
  const [currentId, setCurrentId] = useState(0);
  const dispatch = useDispatch();
  const classes = useStyles();

  useEffect(() => {
    dispatch(getPosts());
  }, [currentId, dispatch]);

  return (
    <Container >
        <img
          className={classes.headerImage} 
          height = "50px"
          src= "data:image/jpeg;base64,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"
          alt="instagram logo"
        />
        <img
          className={classes.headerImage} 
          height = "50px"
          src="https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png"
          alt="instagram logo"
        />
      {/* </AppBar> */}
      <Grow in>
        <Container>
          <Grid container justify="space-between" alignItems="stretch" spacing={3}>
            <Grid item xs={12}>
              <Posts setCurrentId={setCurrentId} />
            </Grid>
            <Grid item xs={12} sm={4}>
              <Form currentId={currentId} setCurrentId={setCurrentId} />
            </Grid>
          </Grid>
        </Container>
      </Grow>
    </Container>
  );
};
export default App;
